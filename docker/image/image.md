

### 镜像
容器是镜像的运行实例。Docker镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。 镜像不包含任何动态数据，其内容在构建之后也不会被改变。---- http://dockone.io/article/6051


### 镜像的实现原理
Docker 镜像是怎么实现增量的修改和维护的？

每个镜像都由很多层次构成，Docker 使用 Union FS 将这些不同的层结合到一个镜像中去。

通常 Union FS 有两个用途, 一方面可以实现不借助 LVM、RAID 将多个 disk 挂到同一个目录下,另一个更常用的就是将一个只读的分支和一个可写的分支联合在一起，Live CD 正是基于此方法可以允许在镜像不变的基础上允许用户在其上进行一些写操作。

Docker 在 AUFS 上构建的容器也是利用了类似的原理。关于联合文件系统UFS可见http://www.dockerinfo.net/1753.html

Docker设计时，就充分利用Union FS的技术，将其设计为分层存储的架构。 镜像实际是由多层文件系统联合组成。

镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层。比如，删除前一层文件的操作，实际不是真的删除前一层的文件，而是仅在当前层标记为该文件已删除。在最终容器运行的时候，虽然不会看到这个文件，但是实际上该文件会一直跟随镜像。因此，在构建镜像的时候，需要额外小心，每一层尽量只包含该层需要添加的东西，任何额外的东西应该在该层构建结束前清理掉。


### 相关命令
- 搜索可用的镜像
```
docker search mysql
```
- 拉取镜像
```
docker pull image_name:tag  // 如 docker pull mysql:5.7
```

- 删除镜像
```
docker rmi image_name:tag
docker rmi image_id
```

- 删除空悬镜像
```
docker image prune
```
- 导出、导出镜像
有时候我们需要将自己构造的镜像分享给别人，但又不想放在仓库上，那么就可以将镜像导出为文件，然后copy给别人，再由其导入即可分享给他人使用。
```
docker save image_name  -o  /home/xxx/tar_name.tar
docker load -i /home/xxx/tar_name.tar  
```